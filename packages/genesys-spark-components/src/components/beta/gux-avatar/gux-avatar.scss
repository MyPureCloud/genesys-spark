@use '~genesys-spark/dist/beta/tokens/flare/global.scss';
@use '~genesys-spark/dist/beta/tokens/flare/ui.scss';

:host {
  position: relative;
  display: inline-block;
  border-radius: 50%;

  abbr {
    text-decoration: none;
  }
}

::slotted(img) {
  inline-size: 100%;
  block-size: 100%;
  object-fit: cover;
}

.gux-avatar {
  position: relative;
  inline-size: ui.$gse-ui-avatar-large-size;
  block-size: ui.$gse-ui-avatar-large-size;
  overflow: hidden;
  border-radius: 50%;

  .gux-content {
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    inline-size: calc(100% - #{ui.$gse-ui-avatar-large-presenceRing-width} * 2);
    block-size: calc(100% - #{ui.$gse-ui-avatar-large-presenceRing-width} * 2);
    margin: ui.$gse-ui-avatar-large-presenceRing-width;
    overflow: hidden;
    font-family: ui.$gse-ui-avatar-large-initials-fontFamily;
    font-size: ui.$gse-ui-avatar-large-initials-fontSize;
    font-weight: ui.$gse-ui-avatar-large-initials-fontWeight;
    line-height: ui.$gse-ui-avatar-small-initials-lineHeight;
    color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
    text-transform: uppercase;
    background-color: ui.$gse-ui-avatar-media-initialsBackground-default;
    border: ui.$gse-ui-avatar-content-large-border-width
      ui.$gse-ui-avatar-content-default-border-style
      ui.$gse-ui-avatar-content-default-border-color;
    border-radius: 50%;
  }

  &.gux-medium {
    inline-size: ui.$gse-ui-avatar-medium-size;
    block-size: ui.$gse-ui-avatar-medium-size;

    & .gux-content {
      inline-size: calc(
        100% - #{ui.$gse-ui-avatar-medium-presenceRing-width} * 2
      );
      block-size: calc(
        100% - #{ui.$gse-ui-avatar-medium-presenceRing-width} * 2
      );
      margin: ui.$gse-ui-avatar-medium-presenceRing-width;
      font-size: ui.$gse-ui-avatar-medium-initials-fontSize;
      font-weight: ui.$gse-ui-avatar-medium-initials-fontWeight;
    }
  }

  &.gux-medium,
  &.gux-small,
  &.gux-xsmall {
    & .gux-content {
      border-width: ui.$gse-ui-avatar-content-default-border-width;
    }
  }

  &.gux-small {
    inline-size: ui.$gse-ui-avatar-small-size;
    block-size: ui.$gse-ui-avatar-small-size;

    & .gux-content {
      inline-size: calc(
        100% - #{ui.$gse-ui-avatar-small-presenceRing-width} * 2
      );
      block-size: calc(
        100% - #{ui.$gse-ui-avatar-small-presenceRing-width} * 2
      );
      margin: ui.$gse-ui-avatar-small-presenceRing-width;
      font-size: ui.$gse-ui-avatar-small-initials-fontSize;
      font-weight: ui.$gse-ui-avatar-small-initials-fontWeight;
    }
  }

  &.gux-xsmall {
    inline-size: ui.$gse-ui-avatar-xsmall-size;
    block-size: ui.$gse-ui-avatar-xsmall-size;

    & .gux-content {
      inline-size: calc(
        100% - #{ui.$gse-ui-avatar-xsmall-presenceRing-width} * 2
      );
      block-size: calc(
        100% - #{ui.$gse-ui-avatar-xsmall-presenceRing-width} * 2
      );
      margin: ui.$gse-ui-avatar-xsmall-presenceRing-width;
      font-size: ui.$gse-ui-avatar-xsmall-initials-fontSize;
      font-weight: ui.$gse-ui-avatar-xsmall-initials-fontWeight;
    }
  }

  &.gux-accent-1 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent1;
    }
  }

  &.gux-accent-2 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent2;
    }
  }

  &.gux-accent-3 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent3;
    }
  }

  &.gux-accent-4 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent4;
    }
  }

  &.gux-accent-5 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent5;
    }
  }

  &.gux-accent-6 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent6;
    }
  }

  &.gux-accent-7 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent7;
    }
  }

  &.gux-accent-8 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent8;
    }
  }

  &.gux-accent-9 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent9;
    }
  }

  &.gux-accent-10 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent10;
    }
  }

  &.gux-accent-11 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-default;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent11;
    }
  }

  &.gux-accent-12 {
    .gux-content {
      color: ui.$gse-ui-avatar-media-initialsForeground-inverse;
      background-color: ui.$gse-ui-avatar-media-initialsBackground-accent12;
    }
  }

  &.gux-accent-inherit {
    .gux-content {
      color: inherit;
      background-color: inherit;
    }
  }

  &.gux-ring {
    &.gux-available {
      background: ui.$gse-ui-avatar-presenceRing-available;
    }

    &.gux-away,
    &.gux-break,
    &.gux-meal,
    &.gux-training {
      background: ui.$gse-ui-avatar-presenceRing-away;
    }

    &.gux-busy,
    &.gux-meeting {
      background: ui.$gse-ui-avatar-presenceRing-busy;
    }

    &.gux-offline {
      background: ui.$gse-ui-avatar-presenceRing-offline;
    }

    &.gux-out-of-office {
      background: ui.$gse-ui-avatar-presenceRing-outOfOffice;
    }

    &.gux-on-queue {
      background: ui.$gse-ui-avatar-presenceRing-onQueue;
    }
  }
}

.gux-avatar-integration-badge {
  position: absolute;
  inset-block-end: 0;
  inset-inline-end: 0;
  z-index: global.$gse-semantic-zIndex-showFocus;
  display: flex;
  align-items: center;
  justify-content: center;
}

.gux-avatar-badge {
  position: absolute;
  inset-block-start: calc(#{ui.$gse-ui-avatar-content-large-border-width} * -1);
  inset-inline-end: calc(#{ui.$gse-ui-avatar-content-large-border-width} * -1);
  z-index: global.$gse-semantic-zIndex-showFocus;
  display: flex;
  align-items: center;
  justify-content: center;
  inline-size: ui.$gse-ui-avatar-large-badge-size;
  block-size: ui.$gse-ui-avatar-large-badge-size;
  border-color: ui.$gse-ui-avatar-content-default-border-color;
  border-style: ui.$gse-ui-avatar-content-default-border-style;
  border-width: ui.$gse-ui-avatar-content-large-border-width;
  border-radius: 50%;

  &.gux-medium {
    inset-block-start: calc(
      #{ui.$gse-ui-avatar-content-default-border-width} * -1
    );
    inset-inline-end: calc(
      #{ui.$gse-ui-avatar-content-default-border-width} * -1
    );
    inline-size: ui.$gse-ui-avatar-medium-badge-size;
    block-size: ui.$gse-ui-avatar-medium-badge-size;
    border-width: ui.$gse-ui-avatar-content-default-border-width;
  }

  &.gux-small,
  &.gux-xsmall {
    inset-block-start: calc(
      #{ui.$gse-ui-avatar-content-default-border-width} * -1
    );
    inset-inline-end: calc(
      #{ui.$gse-ui-avatar-content-default-border-width} * -1
    );
    inline-size: ui.$gse-ui-avatar-small-badge-size;
    block-size: ui.$gse-ui-avatar-small-badge-size;
    border-width: ui.$gse-ui-avatar-content-default-border-width;

    & gux-icon {
      display: none;
    }
  }

  &.gux-available {
    background-color: global.$gse-semantic-background-container-elevated-default;

    &.gux-small,
    &.gux-xsmall {
      background-color: ui.$gse-ui-avatar-badge-available-color;
    }

    & gux-icon {
      color: ui.$gse-ui-avatar-badge-available-color;
    }
  }

  &.gux-away,
  &.gux-break,
  &.gux-meal,
  &.gux-training {
    background-color: ui.$gse-ui-avatar-badge-away-color;

    & gux-icon {
      margin: ui.$gse-ui-avatar-badge-away-icon-margin;
      color: ui.$gse-ui-avatar-badge-foregroundDark-color;
    }
  }

  &.gux-busy,
  &.gux-meeting {
    background-color: ui.$gse-ui-avatar-badge-busy-color;

    & gux-icon {
      margin: ui.$gse-ui-avatar-badge-busy-icon-margin;
      color: ui.$gse-ui-avatar-badge-foregroundDefault-color;
    }
  }

  &.gux-notifications {
    background-color: ui.$gse-ui-avatar-badge-notification-color;

    & gux-icon {
      margin: ui.$gse-ui-avatar-badge-notifications-icon-margin;
      color: ui.$gse-ui-avatar-badge-foregroundDefault-color;
    }
  }

  &.gux-offline {
    background-color: global.$gse-semantic-background-container-elevated-default;

    &.gux-small,
    &.gux-xsmall {
      background-color: ui.$gse-ui-avatar-badge-offline-color;
    }

    & gux-icon {
      color: ui.$gse-ui-avatar-badge-offline-color;
    }
  }

  &.gux-out-of-office {
    background-color: global.$gse-semantic-background-container-elevated-default;

    &.gux-small,
    &.gux-xsmall {
      background-color: ui.$gse-ui-avatar-badge-outOfOffice;
    }

    & gux-icon {
      color: ui.$gse-ui-avatar-badge-outOfOffice;
    }
  }

  &.gux-on-queue {
    background-color: ui.$gse-ui-avatar-badge-onQueue-color;

    & gux-icon {
      margin: ui.$gse-ui-avatar-badge-queue-icon-margin;
      color: ui.$gse-ui-avatar-badge-foregroundDefault-color;
    }
  }

  & gux-icon {
    inline-size: 100%;
    block-size: 100%;
  }
}
