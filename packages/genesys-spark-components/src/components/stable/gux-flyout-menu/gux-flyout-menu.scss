@use '~genesys-spark/dist/beta/tokens/flare/global.scss';
@use '~genesys-spark/dist/beta/tokens/flare/ui.scss';
@use '~genesys-spark/dist/scss/focus.scss';

// Style
:host {
  z-index: global.$gse-semantic-zIndex-popover;
  color: ui.$gse-ui-menu-option-label-foregroundColor;
  cursor: default;
}

:host(:focus) {
  outline: none;
}

:host(:focus-visible) {
  @include focus.gux-focus-ring;
}

.gux-flyout-menu-content {
  position: fixed;
  display: none;
  border: none;
  border-radius: ui.$gse-ui-flyoutMenu-borderRadius;
  box-shadow: ui.$gse-ui-menu-boxShadow;
  opacity: 0;

  &.gux-shown {
    display: flex;
    animation-name: fade-in;
    animation-duration: 100ms;
    animation-delay: 350ms;
    animation-fill-mode: forwards;
  }

  .gux-arrow {
    position: absolute;
    inline-size: ui.$gse-ui-flyoutMenu-anchor-width;
    block-size: ui.$gse-ui-flyoutMenu-anchor-height;

    /* 4px padding leaves some space for the shadow to bleed into */
    padding-block-end: 4px;
    overflow: hidden;
  }

  .gux-arrow-caret {
    inline-size: 0;
    block-size: 0;
    border-block-start: calc(#{ui.$gse-ui-flyoutMenu-anchor-width} / 2) solid
      ui.$gse-ui-flyoutMenu-backgroundColor;
    border-inline-start: calc(#{ui.$gse-ui-flyoutMenu-anchor-width} / 2) solid
      transparent;
    border-inline-end: calc(#{ui.$gse-ui-flyoutMenu-anchor-width} / 2) solid
      transparent;
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}
